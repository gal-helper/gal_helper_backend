from typing import Any
from fastapi.responses import JSONResponse
from fastapi.encoders import jsonable_encoder


def success_response(message: str = "Success", data: Any = None):
    content = {
        "code": 200,
        "message": message,
        "data": data,
    }

    # 目标：把任何 FastAPI、Pydantic、ORM 对象 都正常响应 -> code、message、data
    return JSONResponse(content=jsonable_encoder(content))
